import{r as t,h as e,g as o}from"./p-3d4e6fc7.js";var i,s,n,a,r,l,d,c,h,u,p,m,b=function(t,e,o,i){if("a"===o&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?i:"a"===o?i.call(t):i?i.value:e.get(t)};const g=class{constructor(e){t(this,e),i.add(this),this.handleHashChange=()=>{this.toDoLists=[...this.toDoLists]},this.handleMouseMove=t=>{this.host.shadowRoot.querySelectorAll("section.tooltip").forEach((e=>{e.style.top=(window.innerHeight-t.clientY<e.offsetHeight?t.clientY-e.offsetHeight:t.clientY)+"px",e.style.left=t.clientX+"px"}))},this.toDoLists=JSON.parse(localStorage.getItem("toDoLists"))||[]}connectedCallback(){window.addEventListener("hashchange",this.handleHashChange),window.addEventListener("mousemove",this.handleMouseMove)}disconnectedCallback(){window.removeEventListener("hashchange",this.handleHashChange),window.removeEventListener("mousemove",this.handleMouseMove)}get input(){var t;return null!==(t=this.host.shadowRoot.querySelector("#create"))&&void 0!==t?t:null}componentDidLoad(){this.input.focus()}render(){const t=""===window.location.hash?"#all":window.location.hash,o=this.toDoLists.length;let s,a;if(this.toDoLists.length>0){const t=this.toDoLists.filter((t=>!0!==t.done)),e=this.toDoLists.filter((t=>!1!==t.done));s=t.length,a=e.length}return e("section",{class:"container"},e("header",null,e("h1",null,"t",e("span",{id:"first-o"},"o"),"-d",e("span",{id:"second-o"},"o")," lists"),e("h2",null,"Overview of your to-do lists"),e("button",{onClick:b(this,i,"m",c).bind(this),id:"toggle-all",class:o>0?"":"hide",title:"Click to toggle all"}),e("input",{onKeyDown:b(this,i,"m",n).bind(this),id:"create",class:o>0?"shrink":"",type:"text",placeholder:"What should the new to-do list be called?"})),e("section",{class:"to-do-lists"},o>0?e("ul",{class:"to-do-lists"},this.toDoLists.map((o=>"#all"===t||"#pending"===t&&!o.done||"#done"===t&&o.done?e("li",{id:o.id,class:o.done?"done":"pending"},e("input",{onClick:()=>b(this,i,"m",d).call(this,o.id),class:"select",type:"checkbox",title:"Click to mark as "+(!1===o.done?"done":"pending"),checked:o.done}),e("label",{"data-created":o.created,"data-last-modified":o.lastRenamed,class:"name"},e("a",{onClick:b(this,i,"m",m),href:`/stencil-to-do-list/to-do-list/${o.id}`},o.name)," ",e("span",{class:"count"},"(",o.items.length," ",1===o.items.length?"item":"items",o.items.length>0?": "+o.items.filter((t=>!0!==t.done)).length+" pending, "+o.items.filter((t=>!1!==t.done)).length+" done":"",")"),e("section",{class:"tooltip"},e("stencil-to-do-list-preview",{id:o.id,toDoList:o}))),e("button",{onClick:b(this,i,"m",r).bind(this),class:"edit",title:"Click to edit"}),e("button",{onClick:()=>b(this,i,"m",l).call(this,o.id),class:"delete",title:"Click to delete"})):""))):e("p",null,"There are no to-do lists to show!")),e("hr",{class:o>0?"":"hidden"}),e("footer",{class:o>0?"":"hidden"},e("span",{id:"count",class:o>0?"":"hide hidden"},o," (",s,"/",a,")"),e("ul",{class:"filters"},e("li",null,e("a",{id:"all",class:"#all"===t?"selected":"",href:"#all"},"All"))," ",e("li",null,e("a",{id:"pending",class:"#pending"===t?"selected":"",href:"#pending"},"Pending"))," ",e("li",null,e("a",{id:"done",class:"#done"===t?"selected":"",href:"#done"},"Done"))),e("button",{onClick:b(this,i,"m",h),id:"clear",class:a>0?"":"hide hidden",title:"Click to delete done"},"Clear"),e("span",{id:"confirmation",class:"hidden"},"Sure? ",e("button",{onClick:b(this,i,"m",u).bind(this),id:"yes",title:"Click to confirm"},"Yes")," ",e("button",{onClick:b(this,i,"m",p),id:"no",title:"Click to reject"},"No"))))}static get assetsDirs(){return["css","img","js"]}get host(){return o(this)}};i=new WeakSet,s=function(t){localStorage.setItem("toDoLists",JSON.stringify(t))},n=function(t){if("Enter"===t.key&&!t.target.value.match(/^\s*$/)){const t=new Date,e={id:t.getTime(),created:t.toJSON(),lastRenamed:null,lastUpdated:null,name:this.input.value,done:!1,items:[]};this.toDoLists=[...this.toDoLists,e],b(this,i,"m",s).call(this,this.toDoLists),this.input.value="",this.input.focus()}},a=function(t,e,o){o.value.match(/^\s*$/)||(o.value!==e.textContent&&(this.toDoLists=this.toDoLists.map((t=>{if(t.id===+o.parentNode.id){const e=new Date;t.lastRenamed=e.toJSON(),t.name=o.value}return Object.assign({},t)}))),o.remove(),t.parentNode.querySelector("label.name").classList.remove("hidden"),b(this,i,"m",s).call(this,this.toDoLists),this.input.focus())},r=function(t){const e=t.target,o=e.parentNode.querySelector("label.name a"),s=document.createElement("input");s.type="text",s.value=o.textContent,e.parentNode.appendChild(s),e.parentNode.querySelector("label.name").classList.add("hidden"),s.focus(),s.addEventListener("blur",(()=>{b(this,i,"m",a).call(this,e,o,s)})),s.addEventListener("keydown",(t=>{"Enter"===t.key?b(this,i,"m",a).call(this,e,o,s):"Escape"===t.key&&(s.remove(),e.parentNode.querySelector("label.name").classList.remove("hidden"))}))},l=function(t){this.toDoLists=this.toDoLists.filter((e=>e.id!==t)),b(this,i,"m",s).call(this,this.toDoLists)},d=function(t){this.toDoLists=this.toDoLists.map((e=>(e.id===t&&(e.done=!e.done),Object.assign({},e)))),b(this,i,"m",s).call(this,this.toDoLists)},c=function(){this.toDoLists=this.toDoLists.map((t=>(t.done=!t.done,Object.assign({},t)))),b(this,i,"m",s).call(this,this.toDoLists)},h=function(t){t.target.classList.add("hidden"),t.target.nextElementSibling.classList.remove("hidden")},u=function(t){t.target.parentNode.classList.add("hidden"),this.toDoLists=this.toDoLists.filter((t=>!1===t.done)),b(this,i,"m",s).call(this,this.toDoLists),this.input.focus()},p=function(t){t.target.parentNode.classList.add("hidden"),t.target.parentNode.previousElementSibling.classList.remove("hidden")},m=function(t){t.preventDefault();const{pathname:e}=new URL(t.target.href);window.history.pushState({path:e},"",e);const o=new PopStateEvent("popstate",{state:e});dispatchEvent(o)},g.style=":host{--cyan:rgba(0, 157, 224, 1.0);--cyan-three-quarter-transparent:rgba(0, 157, 224, 0.25);--gray:rgba(128, 128, 128, 1.0);--gray-semi-transparent:rgba(128, 128, 128, 0.5);--short:250ms;--long:500ms;font-family:'Montserrat', sans-serif;text-align:center}.hidden{display:none}header h1{position:relative;margin:0.25em 0 0 0;font-size:3em;font-family:'Arvo', sans-serif;letter-spacing:0.05em}header h1 span#first-o,header h1 span#second-o{display:inline-block;color:transparent}header h1 span#first-o::before,header h1 span#second-o::before{content:'';display:inline-block;margin:0 -0.6em 0 0;border-radius:50%;box-sizing:border-box;width:0.55em;height:0.55em}header h1 span#first-o::before{border:0.12em solid var(--cyan);background:transparent}header h1 span#second-o::before{background:var(--cyan)}header h1::after{content:'';position:absolute;margin:0 0 0 0.25em;width:0.5em;height:0.5em;background:url('/stencil-to-do-list/build/img/stencil.svg') no-repeat}header h2{margin:0}header button#toggle-all{all:unset;position:relative;top:1.75em;justify-content:space-around;display:flex;opacity:1;transition:opacity var(--short) ease-in-out var(--short), transform var(--short) ease-in-out var(--short);margin:0 0 0 0.5em;width:1em;height:1em;cursor:pointer}header button#toggle-all::before,header button#toggle-all::after{content:'';position:absolute;border-radius:0.1em;width:0.2em;height:1em;background:var(--cyan)}header button#toggle-all::before{transform:translate(20%) rotate(-45deg);transform-origin:bottom right}header button#toggle-all::after{transform:translate(-20%) rotate(45deg);transform-origin:bottom left}header button#toggle-all.hide{opacity:0;transform:rotate(-90deg)}input[type=text]{position:relative;transition:margin var(--short) ease-in-out var(--short), width var(--short) ease-in-out var(--short);border:0.15em solid var(--cyan-three-quarter-transparent);border-radius:0.5em;box-sizing:border-box;width:100%;padding:0.5em;font-size:1em;font-family:inherit;outline:none}input[type=text]:focus{border-color:var(--cyan)}header input[type=text].shrink{margin:0 0 0 10%;width:90%}section.to-do-lists ul.to-do-lists{padding:0;text-align:start;list-style:none}section.to-do-lists ul.to-do-lists li{position:relative;transition:opacity var(--long) ease-in-out, outline-color var(--short) ease-in-out;padding:0.5em;outline:transparent dashed 0.1em;border-radius:0.5em}section.to-do-lists ul.to-do-lists li:hover{outline:var(--gray-semi-transparent) dashed 0.1em}section.to-do-lists ul.to-do-lists li input[type=checkbox].select{appearance:none;position:relative;bottom:0.1em;transition:background var(--long) ease-in-out, border var(--long) ease-in-out;margin:0 0.5em 0 0;cursor:pointer;font-size:inherit;vertical-align:middle}section.to-do-lists ul.to-do-lists li.pending input[type=checkbox].select,section.to-do-lists ul.to-do-lists li.done input[type=checkbox].select{display:inline-block;border-radius:50%;box-sizing:border-box;width:1em;height:1em}section.to-do-lists ul.to-do-lists li.pending input[type=checkbox].select{border:0.2em solid var(--cyan);background:transparent}section.to-do-lists ul.to-do-lists li.done input[type=checkbox].select{border:0.5em solid var(--cyan);background:var(--cyan)}section.to-do-lists ul.to-do-lists li.hide{opacity:0}section.to-do-lists ul.to-do-lists li label.name{--strikethrough:0;transition:background-size var(--long) ease-in-out, color var(--long) ease-in-out;background:linear-gradient(to right, transparent 0, currentcolor 0) no-repeat right center / calc(var(--strikethrough) * 100%) 0.1em;background-position-x:left;cursor:text;word-break:break-all}section.to-do-lists ul.to-do-lists li label.name a{text-decoration:none;color:var(--cyan)}section.to-do-lists ul.to-do-lists li.done label.name{--strikethrough:1;color:var(--gray)}section.to-do-lists ul.to-do-lists li button.edit{all:unset;position:absolute;bottom:0.6em;right:1.5em;justify-content:space-around;display:flex;opacity:0;transform:rotate(45deg);transition:opacity var(--short) ease-in-out;margin:0 0.5em 0 0;width:1em;height:1em;cursor:pointer}section.to-do-lists ul.to-do-lists li button.edit::before,section.to-do-lists ul.to-do-lists li button.edit::after{content:'';position:absolute;border-radius:0.05em;width:0.25em}section.to-do-lists ul.to-do-lists li button.edit::before{height:0.7em;background:var(--cyan)}section.to-do-lists ul.to-do-lists li button.edit::after{bottom:0;width:0;height:0;border-left:0.125em solid transparent;border-right:0.125em solid transparent;border-top:0.25em solid var(--cyan)}section.to-do-lists ul.to-do-lists li:hover button.edit{opacity:1}section.to-do-lists ul.to-do-lists li button.delete{all:unset;position:absolute;bottom:0.6em;right:0;justify-content:space-around;display:flex;opacity:0;transition:opacity var(--short) ease-in-out;margin:0 0.5em 0 0;width:1em;height:1em;cursor:pointer}section.to-do-lists ul.to-do-lists li button.delete::before,section.to-do-lists ul.to-do-lists li button.delete::after{content:'';position:absolute;border-radius:0.1em;width:0.2em;height:1em;background:var(--cyan)}section.to-do-lists ul.to-do-lists li button.delete::before{transform:rotate(45deg)}section.to-do-lists ul.to-do-lists li button.delete::after{transform:rotate(-45deg)}section.to-do-lists ul.to-do-lists li:hover button.delete{opacity:1}section.to-do-lists ul.to-do-lists li input[type=text]{width:calc(100% - 1.5em)}section.to-do-lists ul.to-do-lists li label.name section.tooltip{position:relative;z-index:1;display:none;border:0.15em solid var(--cyan);border-radius:0.5em;box-sizing:border-box;width:22.5vw;padding:0 1em;min-width:22.5em;background:white}section.to-do-lists ul.to-do-lists li label.name a:hover~section.tooltip{position:fixed;display:block;overflow:hidden}section.to-do-lists ul.to-do-lists li.done label.name section.tooltip stencil-to-do-list-preview{opacity:50%}footer{margin:1em 0 3em 0}footer span#count{position:relative;float:left;opacity:1;transition:opacity var(--long) ease-in-out;padding:0;color:var(--gray)}footer span#count.hide{opacity:0}footer ul.filters{position:absolute;left:0;right:0;margin:0;padding:0;list-style:none}footer ul.filters li{display:inline}footer ul.filters li a:hover{outline:var(--gray-semi-transparent) solid 0.1em;border-radius:0.25em}footer a{padding:0.1em 0.2em;cursor:pointer;text-decoration:none;color:var(--cyan)}footer a.selected{outline:var(--gray) solid 0.1em;border-radius:0.25em}footer button#clear,footer button#yes,footer button#no{all:unset;cursor:pointer;color:var(--cyan)}footer button#clear,footer span#confirmation{position:relative;float:right;opacity:1;transition:opacity var(--long) ease-in-out;padding:0}footer button#clear:hover,footer button#yes:hover,footer button#no:hover{text-decoration:underline;text-decoration-color:var(--gray-semi-transparent)}footer button#clear.hide{opacity:0}footer button#clear.hidden{display:none}";export{g as stencil_to_do_lists}